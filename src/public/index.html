<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Ленты событий</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }

        .endpoint {
            background-color: #f8f9fa;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }

        .method {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
            margin-right: 10px;
        }

        .get { background-color: #61affe; color: white; }
        .post { background-color: #49cc90; color: white; }
        .put { background-color: #fca130; color: white; }
        .delete { background-color: #f93e3e; color: white; }

        code {
            background-color: #eee;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }

        .example {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>`API Ленты событий</h1>
    <p>RESTful API для управления лентой событий</p>

    <h2>Доступные эндпоинты</h2>

    <div class="endpoint">
        <span class="method get">GET</span>
        <strong>/api/events</strong>
        <p>Получить все события</p>
        <p><strong>Query параметры:</strong></p>
        <ul>
            <li><code>category</code> - фильтр по категории</li>
            <li><code>sort</code> - сортировка (date или title)</li>
        </ul>
        <div class="example">
            <strong>Пример:</strong><br>
            <code>GET /api/events?category=technology&sort=date</code>
        </div>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span>
        <strong>/api/events/:id</strong>
        <p>Получить событие по ID</p>
        <div class="example">
            <strong>Пример:</strong><br>
            <code>GET /api/events/1</code>
        </div>
    </div>

    <div class="endpoint">
        <span class="method get">GET</span>
        <strong>/api/events/category/:category</strong>
        <p>Получить события по категории</p>
        <div class="example">
            <strong>Пример:</strong><br>
            <code>GET /api/events/category/technology</code>
        </div>
    </div>

    <div class="endpoint">
        <span class="method post">POST</span>
        <strong>/api/events</strong>
        <p>Создать новое событие</p>
        <p><strong>Тело запроса (JSON):</strong></p>
        <pre>
{
    "title": "Новое событие",
    "description": "Описание события",
    "date": "2024-01-20T15:00:00.000Z",
    "category": "technology",
    "location": "Москва"
}
            </pre>
    </div>

    <div class="endpoint">
        <span class="method put">PUT</span>
        <strong>/api/events/:id</strong>
        <p>Обновить событие</p>
    </div>

    <div class="endpoint">
        <span class="method delete">DELETE</span>
        <strong>/api/events/:id</strong>
        <p>Удалить событие</p>
    </div>

    <h2>Примеры использования</h2>

    <h3>JavaScript (Fetch API)</h3>
    <div class="example">
            <pre>
// Получить все события
fetch('/api/events')
    .then(response => response.json())
    .then(data => console.log(data));

// Создать новое событие
fetch('/api/events', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        title: 'Новое событие',
        date: '2024-01-25',
        category: 'education'
    })
})
.then(response => response.json())
.then(data => console.log(data));
            </pre>
    </div>

    <h3>cURL</h3>
    <div class="example">
            <pre>
# Получить все события
curl http://localhost:3000/api/events

# Создать событие
curl -X POST http://localhost:3000/api/events \
     -H "Content-Type: application/json" \
     -d '{"title":"Тест","date":"2024-01-20","category":"test"}'
            </pre>
    </div>
</div>
</body>
</html>